/* esm.sh - isosurface@1.0.0 */
var m=Object.create;var L=Object.defineProperty;var T=Object.getOwnPropertyDescriptor;var x0=Object.getOwnPropertyNames;var a0=Object.getPrototypeOf,r0=Object.prototype.hasOwnProperty;var R=(f,t)=>()=>(t||f((t={exports:{}}).exports,t),t.exports);var f0=(f,t,c,v)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of x0(t))!r0.call(f,s)&&s!==c&&L(f,s,{get:()=>t[s],enumerable:!(v=T(t,s))||v.enumerable});return f};var c0=(f,t,c)=>(c=f!=null?m(a0(f)):{},f0(t||!f||!f.__esModule?L(c,"default",{value:f,enumerable:!0}):c,f));var Q=R(P=>{"use strict";var D=new Int32Array(24),O=new Int32Array(256);(function(){for(var f=0,t=0;t<8;++t)for(var c=1;c<=4;c<<=1){var v=t^c;t<=v&&(D[f++]=t,D[f++]=v)}for(var t=0;t<256;++t){for(var s=0,c=0;c<24;c+=2){var a=!!(t&1<<D[c]),g=!!(t&1<<D[c+1]);s|=a!==g?1<<(c>>1):0}O[t]=s}})();var u=new Array(4096);(function(){for(var f=0;f<u.length;++f)u[f]=0})();P.surfaceNets=function(f,t,c){c||(c=[[0,0,0],f]);for(var v=[0,0,0],s=[0,0,0],a=0;a<3;++a)v[a]=(c[1][a]-c[0][a])/f[a],s[a]=c[0][a];var g=[],n=[],i=0,h=[0,0,0],w=[1,f[0]+1,(f[0]+1)*(f[1]+1)],e=[0,0,0,0,0,0,0,0],r=1;if(w[2]*2>u.length){var k=u.length;for(u.length=w[2]*2;k<u.length;)u[k++]=0}for(h[2]=0;h[2]<f[2]-1;++h[2],i+=f[0],r^=1,w[2]=-w[2]){var x=1+(f[0]+1)*(1+r*(f[1]+1));for(h[1]=0;h[1]<f[1]-1;++h[1],++i,x+=2)for(h[0]=0;h[0]<f[0]-1;++h[0],++i,++x){for(var l=0,y=0,b=0;b<2;++b)for(var p=0;p<2;++p)for(var a=0;a<2;++a,++y){var M=t(v[0]*(h[0]+a)+s[0],v[1]*(h[1]+p)+s[1],v[2]*(h[2]+b)+s[2]);e[y]=M,l|=M<0?1<<y:0}if(!(l===0||l===255)){for(var N=O[l],C=[0,0,0],I=0,a=0;a<12;++a)if(N&1<<a){++I;var A=D[a<<1],o=D[(a<<1)+1],q=e[A],_=e[o],E=q-_;if(Math.abs(E)>1e-6)E=q/E;else continue;for(var p=0,b=1;p<3;++p,b<<=1){var z=A&b,j=o&b;z!==j?C[p]+=z?1-E:E:C[p]+=z?1:0}}for(var d=1/I,a=0;a<3;++a)C[a]=v[a]*(h[a]+d*C[a])+s[a];u[x]=g.length,g.push(C);for(var a=0;a<3;++a)if(N&1<<a){var J=(a+1)%3,K=(a+2)%3;if(!(h[J]===0||h[K]===0)){var F=w[J],B=w[K];l&1?(n.push([u[x],u[x-F],u[x-B]]),n.push([u[x-B],u[x-F],u[x-F-B]])):(n.push([u[x],u[x-B],u[x-F]]),n.push([u[x-F],u[x-B],u[x-F-B]]))}}}}}return{positions:g,cells:n}}});var W=R(S=>{var e0=new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),t0=[[],[0,8,3],[0,1,9],[1,8,3,9,8,1],[1,2,10],[0,8,3,1,2,10],[9,2,10,0,2,9],[2,8,3,2,10,8,10,9,8],[3,11,2],[0,11,2,8,11,0],[1,9,0,2,3,11],[1,11,2,1,9,11,9,8,11],[3,10,1,11,10,3],[0,10,1,0,8,10,8,11,10],[3,9,0,3,11,9,11,10,9],[9,8,10,10,8,11],[4,7,8],[4,3,0,7,3,4],[0,1,9,8,4,7],[4,1,9,4,7,1,7,3,1],[1,2,10,8,4,7],[3,4,7,3,0,4,1,2,10],[9,2,10,9,0,2,8,4,7],[2,10,9,2,9,7,2,7,3,7,9,4],[8,4,7,3,11,2],[11,4,7,11,2,4,2,0,4],[9,0,1,8,4,7,2,3,11],[4,7,11,9,4,11,9,11,2,9,2,1],[3,10,1,3,11,10,7,8,4],[1,11,10,1,4,11,1,0,4,7,11,4],[4,7,8,9,0,11,9,11,10,11,0,3],[4,7,11,4,11,9,9,11,10],[9,5,4],[9,5,4,0,8,3],[0,5,4,1,5,0],[8,5,4,8,3,5,3,1,5],[1,2,10,9,5,4],[3,0,8,1,2,10,4,9,5],[5,2,10,5,4,2,4,0,2],[2,10,5,3,2,5,3,5,4,3,4,8],[9,5,4,2,3,11],[0,11,2,0,8,11,4,9,5],[0,5,4,0,1,5,2,3,11],[2,1,5,2,5,8,2,8,11,4,8,5],[10,3,11,10,1,3,9,5,4],[4,9,5,0,8,1,8,10,1,8,11,10],[5,4,0,5,0,11,5,11,10,11,0,3],[5,4,8,5,8,10,10,8,11],[9,7,8,5,7,9],[9,3,0,9,5,3,5,7,3],[0,7,8,0,1,7,1,5,7],[1,5,3,3,5,7],[9,7,8,9,5,7,10,1,2],[10,1,2,9,5,0,5,3,0,5,7,3],[8,0,2,8,2,5,8,5,7,10,5,2],[2,10,5,2,5,3,3,5,7],[7,9,5,7,8,9,3,11,2],[9,5,7,9,7,2,9,2,0,2,7,11],[2,3,11,0,1,8,1,7,8,1,5,7],[11,2,1,11,1,7,7,1,5],[9,5,8,8,5,7,10,1,3,10,3,11],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0],[11,10,5,7,11,5],[10,6,5],[0,8,3,5,10,6],[9,0,1,5,10,6],[1,8,3,1,9,8,5,10,6],[1,6,5,2,6,1],[1,6,5,1,2,6,3,0,8],[9,6,5,9,0,6,0,2,6],[5,9,8,5,8,2,5,2,6,3,2,8],[2,3,11,10,6,5],[11,0,8,11,2,0,10,6,5],[0,1,9,2,3,11,5,10,6],[5,10,6,1,9,2,9,11,2,9,8,11],[6,3,11,6,5,3,5,1,3],[0,8,11,0,11,5,0,5,1,5,11,6],[3,11,6,0,3,6,0,6,5,0,5,9],[6,5,9,6,9,11,11,9,8],[5,10,6,4,7,8],[4,3,0,4,7,3,6,5,10],[1,9,0,5,10,6,8,4,7],[10,6,5,1,9,7,1,7,3,7,9,4],[6,1,2,6,5,1,4,7,8],[1,2,5,5,2,6,3,0,4,3,4,7],[8,4,7,9,0,5,0,6,5,0,2,6],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9],[3,11,2,7,8,4,10,6,5],[5,10,6,4,7,2,4,2,0,2,7,11],[0,1,9,4,7,8,2,3,11,5,10,6],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6],[8,4,7,3,11,5,3,5,1,5,11,6],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7],[6,5,9,6,9,11,4,7,9,7,11,9],[10,4,9,6,4,10],[4,10,6,4,9,10,0,8,3],[10,0,1,10,6,0,6,4,0],[8,3,1,8,1,6,8,6,4,6,1,10],[1,4,9,1,2,4,2,6,4],[3,0,8,1,2,9,2,4,9,2,6,4],[0,2,4,4,2,6],[8,3,2,8,2,4,4,2,6],[10,4,9,10,6,4,11,2,3],[0,8,2,2,8,11,4,9,10,4,10,6],[3,11,2,0,1,6,0,6,4,6,1,10],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1],[9,6,4,9,3,6,9,1,3,11,6,3],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1],[3,11,6,3,6,0,0,6,4],[6,4,8,11,6,8],[7,10,6,7,8,10,8,9,10],[0,7,3,0,10,7,0,9,10,6,7,10],[10,6,7,1,10,7,1,7,8,1,8,0],[10,6,7,10,7,1,1,7,3],[1,2,6,1,6,8,1,8,9,8,6,7],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9],[7,8,0,7,0,6,6,0,2],[7,3,2,6,7,2],[2,3,11,10,6,8,10,8,9,8,6,7],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11],[11,2,1,11,1,7,10,6,1,6,7,1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6],[0,9,1,11,6,7],[7,8,0,7,0,6,3,11,0,11,6,0],[7,11,6],[7,6,11],[3,0,8,11,7,6],[0,1,9,11,7,6],[8,1,9,8,3,1,11,7,6],[10,1,2,6,11,7],[1,2,10,3,0,8,6,11,7],[2,9,0,2,10,9,6,11,7],[6,11,7,2,10,3,10,8,3,10,9,8],[7,2,3,6,2,7],[7,0,8,7,6,0,6,2,0],[2,7,6,2,3,7,0,1,9],[1,6,2,1,8,6,1,9,8,8,7,6],[10,7,6,10,1,7,1,3,7],[10,7,6,1,7,10,1,8,7,1,0,8],[0,3,7,0,7,10,0,10,9,6,10,7],[7,6,10,7,10,8,8,10,9],[6,8,4,11,8,6],[3,6,11,3,0,6,0,4,6],[8,6,11,8,4,6,9,0,1],[9,4,6,9,6,3,9,3,1,11,3,6],[6,8,4,6,11,8,2,10,1],[1,2,10,3,0,11,0,6,11,0,4,6],[4,11,8,4,6,11,0,2,9,2,10,9],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3],[8,2,3,8,4,2,4,6,2],[0,4,2,4,6,2],[1,9,0,2,3,4,2,4,6,4,3,8],[1,9,4,1,4,2,2,4,6],[8,1,3,8,6,1,8,4,6,6,10,1],[10,1,0,10,0,6,6,0,4],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3],[10,9,4,6,10,4],[4,9,5,7,6,11],[0,8,3,4,9,5,11,7,6],[5,0,1,5,4,0,7,6,11],[11,7,6,8,3,4,3,5,4,3,1,5],[9,5,4,10,1,2,7,6,11],[6,11,7,1,2,10,0,8,3,4,9,5],[7,6,11,5,4,10,4,2,10,4,0,2],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6],[7,2,3,7,6,2,5,4,9],[9,5,4,0,8,6,0,6,2,6,8,7],[3,6,2,3,7,6,1,5,0,5,4,0],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8],[9,5,4,10,1,6,1,7,6,1,3,7],[1,6,10,1,7,6,1,0,7,8,7,0,9,5,4],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10],[7,6,10,7,10,8,5,4,10,4,8,10],[6,9,5,6,11,9,11,8,9],[3,6,11,0,6,3,0,5,6,0,9,5],[0,11,8,0,5,11,0,1,5,5,6,11],[6,11,3,6,3,5,5,3,1],[1,2,10,9,5,11,9,11,8,11,5,6],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5],[6,11,3,6,3,5,2,10,3,10,5,3],[5,8,9,5,2,8,5,6,2,3,8,2],[9,5,6,9,6,0,0,6,2],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8],[1,5,6,2,1,6],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6],[10,1,0,10,0,6,9,5,0,5,6,0],[0,3,8,5,6,10],[10,5,6],[11,5,10,7,5,11],[11,5,10,11,7,5,8,3,0],[5,11,7,5,10,11,1,9,0],[10,7,5,10,11,7,9,8,1,8,3,1],[11,1,2,11,7,1,7,5,1],[0,8,3,1,2,7,1,7,5,7,2,11],[9,7,5,9,2,7,9,0,2,2,11,7],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2],[2,5,10,2,3,5,3,7,5],[8,2,0,8,5,2,8,7,5,10,2,5],[9,0,1,5,10,3,5,3,7,3,10,2],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2],[1,3,5,3,7,5],[0,8,7,0,7,1,1,7,5],[9,0,3,9,3,5,5,3,7],[9,8,7,5,9,7],[5,8,4,5,10,8,10,11,8],[5,0,4,5,11,0,5,10,11,11,3,0],[0,1,9,8,4,10,8,10,11,10,4,5],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4],[2,5,1,2,8,5,2,11,8,4,5,8],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5],[9,4,5,2,11,3],[2,5,10,3,5,2,3,4,5,3,8,4],[5,10,2,5,2,4,4,2,0],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9],[5,10,2,5,2,4,1,9,2,9,4,2],[8,4,5,8,5,3,3,5,1],[0,4,5,1,0,5],[8,4,5,8,5,3,9,0,5,0,3,5],[9,4,5],[4,11,7,4,9,11,9,10,11],[0,8,3,4,9,7,9,11,7,9,10,11],[1,10,11,1,11,4,1,4,0,7,4,11],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4],[4,11,7,9,11,4,9,2,11,9,1,2],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3],[11,7,4,11,4,2,2,4,0],[11,7,4,11,4,2,8,3,4,3,2,4],[2,9,10,2,7,9,2,3,7,7,4,9],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10],[1,10,2,8,7,4],[4,9,1,4,1,7,7,1,3],[4,9,1,4,1,7,0,8,1,8,7,1],[4,0,3,7,4,3],[4,8,7],[9,10,8,10,11,8],[3,0,9,3,9,11,11,9,10],[0,1,10,0,10,8,8,10,11],[3,1,10,11,3,10],[1,2,11,1,11,9,9,11,8],[3,0,9,3,9,11,1,2,9,2,11,9],[0,2,11,8,0,11],[3,2,11],[2,3,8,2,8,10,10,8,9],[9,10,2,0,9,2],[2,3,8,2,8,10,0,1,8,1,10,8],[1,10,2],[1,3,8,9,1,8],[0,9,1],[0,3,8],[]],G=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]],h0=[[0,1],[1,2],[2,3],[3,0],[4,5],[5,6],[6,7],[7,4],[0,4],[1,5],[2,6],[3,7]];S.marchingCubes=function(f,t,c){c||(c=[[0,0,0],f]);for(var v=[0,0,0],s=[0,0,0],a=0;a<3;++a)v[a]=(c[1][a]-c[0][a])/f[a],s[a]=c[0][a];var g=[],n=[],i=0,h=new Array(8),w=new Array(12),e=[0,0,0];for(e[2]=0;e[2]<f[2]-1;++e[2],i+=f[0])for(e[1]=0;e[1]<f[1]-1;++e[1],++i)for(e[0]=0;e[0]<f[0]-1;++e[0],++i){for(var r=0,a=0;a<8;++a){var k=G[a],x=t(v[0]*(e[0]+k[0])+s[0],v[1]*(e[1]+k[1])+s[1],v[2]*(e[2]+k[2])+s[2]);h[a]=x,r|=x>0?1<<a:0}var l=e0[r];if(l!==0){for(var a=0;a<12;++a)if((l&1<<a)!==0){w[a]=g.length;var y=[0,0,0],b=h0[a],p=G[b[0]],M=G[b[1]],N=h[b[0]],C=h[b[1]],I=N-C,A=0;Math.abs(I)>1e-6&&(A=N/I);for(var o=0;o<3;++o)y[o]=v[o]*(e[o]+p[o]+A*(M[o]-p[o]))+s[o];g.push(y)}for(var q=t0[r],a=0;a<q.length;a+=3)n.push([w[q[a]],w[q[a+1]],w[q[a+2]]])}}return{positions:g,cells:n}}});var Z=R(Y=>{var H=[[0,0,0],[1,0,0],[1,1,0],[0,1,0],[0,0,1],[1,0,1],[1,1,1],[0,1,1]],X=[[0,2,3,7],[0,6,2,7],[0,4,6,7],[0,6,1,2],[0,1,6,4],[5,6,1,4]];Y.marchingTetrahedra=function(f,t,c){c||(c=[[0,0,0],f]);for(var v=[0,0,0],s=[0,0,0],a=0;a<3;++a)v[a]=(c[1][a]-c[0][a])/f[a],s[a]=c[0][a];var g=[],n=[],i=0,h=new Float32Array(8),w=new Int32Array(12),e=[0,0,0];function r(y,b){var p=h[y],M=h[b],N=H[y],C=H[b],I=[e[0],e[1],e[2]],A=p-M;Math.abs(A)>1e-6&&(A=p/A);for(var o=0;o<3;++o)I[o]=v[o]*(I[o]+N[o]+A*(C[o]-N[o]))+s[o];return g.push(I),g.length-1}for(e[2]=0;e[2]<f[2]-1;++e[2],i+=f[0])for(e[1]=0;e[1]<f[1]-1;++e[1],++i)for(e[0]=0;e[0]<f[0]-1;++e[0],++i){for(var a=0;a<8;++a){var k=H[a];h[a]=t(v[0]*(e[0]+k[0])+s[0],v[1]*(e[1]+k[1])+s[1],v[2]*(e[2]+k[2])+s[2])}for(var a=0;a<X.length;++a){var x=X[a],l=0;switch(h[x[0]]<0&&(l|=1),h[x[1]]<0&&(l|=2),h[x[2]]<0&&(l|=4),h[x[3]]<0&&(l|=8),l){case 0:case 15:break;case 14:n.push([r(x[0],x[1]),r(x[0],x[3]),r(x[0],x[2])]);break;case 1:n.push([r(x[0],x[1]),r(x[0],x[2]),r(x[0],x[3])]);break;case 13:n.push([r(x[1],x[0]),r(x[1],x[2]),r(x[1],x[3])]);break;case 2:n.push([r(x[1],x[0]),r(x[1],x[3]),r(x[1],x[2])]);break;case 12:n.push([r(x[1],x[2]),r(x[1],x[3]),r(x[0],x[3]),r(x[0],x[2])]);break;case 3:n.push([r(x[1],x[2]),r(x[0],x[2]),r(x[0],x[3]),r(x[1],x[3])]);break;case 4:n.push([r(x[2],x[0]),r(x[2],x[1]),r(x[2],x[3])]);break;case 11:n.push([r(x[2],x[0]),r(x[2],x[3]),r(x[2],x[1])]);break;case 5:n.push([r(x[0],x[1]),r(x[1],x[2]),r(x[2],x[3]),r(x[0],x[3])]);break;case 10:n.push([r(x[0],x[1]),r(x[0],x[3]),r(x[2],x[3]),r(x[1],x[2])]);break;case 6:n.push([r(x[2],x[3]),r(x[0],x[2]),r(x[0],x[1]),r(x[1],x[3])]);break;case 9:n.push([r(x[2],x[3]),r(x[1],x[3]),r(x[0],x[1]),r(x[0],x[2])]);break;case 7:n.push([r(x[3],x[0]),r(x[3],x[1]),r(x[3],x[2])]);break;case 8:n.push([r(x[3],x[0]),r(x[3],x[2]),r(x[3],x[1])]);break}}}return{positions:g,cells:n}}});var $=R(U=>{U.surfaceNets=Q().surfaceNets;U.marchingCubes=W().marchingCubes;U.marchingTetrahedra=Z().marchingTetrahedra});var V=c0($()),{surfaceNets:b0,marchingCubes:l0,marchingTetrahedra:p0}=V,g0=V.default??V;export{g0 as default,l0 as marchingCubes,p0 as marchingTetrahedra,b0 as surfaceNets};
